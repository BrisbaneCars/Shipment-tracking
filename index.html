<!DOCTYPE html><html lang="en"><head>    <meta charset="UTF-8">    <meta name="viewport" content="width=device-width, initial-scale=1.0">    <title>Shipment Tracker: Brisbane → Port Moresby</title>        <!-- Leaflet.js for Maps -->    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
        <style>        #map { height: 500px; width: 100%; }        #info { margin-top: 10px; font-size: 18px; }        #countdown { font-size: 22px; font-weight: bold; color: red; }    </style></head><body>
        <h2>Shipment Tracker: Brisbane → Port Moresby</h2>        <!-- Map Container -->    <div id="map"></div>
        <!-- Shipment Information -->    <div id="info">        <p><strong>Owner:</strong> Paul Pa’ako</p>        <p><strong>Batch No:</strong> BRC 240317</p>        <p><strong>Vehicle:</strong> Toyota Hiace Bus (2020)</p>        <p><strong>Items:</strong> Vehicle Papers</p>        <p><strong>ETA:</strong> March 27, 2025 - 5:00 AM</p>        <p><strong>Countdown:</strong> <span id="countdown">Calculating...</span></p>    </div>
        <!-- Firebase & Tracking Code -->    <script type="module">        // Import Firebase Modules        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.4.0/firebase-app.js";        import { getDatabase, ref, set, onValue } from "https://www.gstatic.com/firebasejs/11.4.0/firebase-database.js";
            // Firebase Configuration        const firebaseConfig = {            apiKey: "AIzaSyDf6pQhibrq_fJZl32kB2hfDJHpTt7pYNE",            authDomain: "shipment-tracking-2fe38.firebaseapp.com",            projectId: "shipment-tracking-2fe38",            storageBucket: "shipment-tracking-2fe38.appspot.com",            messagingSenderId: "349524445618",            appId: "1:349524445618:web:76812f0e2527a335c0bcab"        };
            // Initialize Firebase        const app = initializeApp(firebaseConfig);        const database = getDatabase(app);        const shipmentRef = ref(database, "shipments/BRC240317/location");
            // Initialize Map        let map = L.map('map').setView([-27.4705, 153.0260], 5); // Default to Brisbane        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {            attribution: '© OpenStreetMap contributors'        }).addTo(map);
            // Shipment Marker        let shipMarker = L.marker([-27.4705, 153.0260], { draggable: false }).addTo(map);        shipMarker.bindPopup(" Current Shipment Location").openPopup();
            // Load the last saved location from Firebase        onValue(shipmentRef, (snapshot) => {            if (snapshot.exists()) {                const data = snapshot.val();                shipMarker.setLatLng([data.lat, data.lng]);                map.setView([data.lat, data.lng], 6);            }        });
            // Movement Simulation        let lat = -27.4705, lng = 153.0260; // Start at Brisbane        const destLat = -9.4438, destLng = 147.1803; // Destination: Port Moresby        const arrivalTime = new Date("2025-03-27T05:00:00Z").getTime();        const updateInterval = 60000; // Update every 60 seconds (1 min)        const totalUpdates = Math.floor((arrivalTime - Date.now()) / updateInterval);        const latStep = (destLat - lat) / totalUpdates;        const lngStep = (destLng - lng) / totalUpdates;
            function updateShipmentLocation() {            if (Date.now() >= arrivalTime) {                console.log(" Shipment has arrived in Port Moresby.");                return;            }            lat += latStep;            lng += lngStep;
                set(shipmentRef, { lat, lng })                .then(() => console.log(` Updated location: ${lat.toFixed(5)}, ${lng.toFixed(5)}`))                .catch(error => console.error(" Error:", error));
                setTimeout(updateShipmentLocation, updateInterval);        }
            updateShipmentLocation(); // Start movement simulation
            // Countdown Timer        function updateCountdown() {            const now = new Date().getTime();            const timeLeft = arrivalTime - now;
                if (timeLeft <= 0) {                document.getElementById("countdown").innerText = "Shipment has arrived!";                return;            }
                const days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));            const hours = Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));            const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));            const seconds = Math.floor((timeLeft % (1000 * 60)) / 1000);
                document.getElementById("countdown").innerText =                 `${days}d ${hours}h ${minutes}m ${seconds}s`;        }
            setInterval(updateCountdown, 1000); // Update countdown every second        updateCountdown(); // Initial call
        </script>
    </body></html>